<!DOCTYPE html>
<html>
<head>
  <script type="text/javascript" src="/js/x-tag-components.js"></script>
	<script type="text/javascript" src="/js/components.js"></script>
  <script type="text/javascript" src="/js/tasks.js"></script>

  <link rel="stylesheet" type="text/css" href="/css/x-tag-components.css">
  <link rel="stylesheet" type="text/css" href="/css/tasks.css">

</head>
<body>

  <x-template name="task">
    <script type="template/script">
      this.addTemplateListeners({
        'change:delegate(input)': function(e){
          if (this.checked) xtag.addClass(e.templateTarget.firstElementChild, 'checked');
          else xtag.removeClass(e.templateTarget.firstElementChild, 'checked');
        }
      });
    </script>

    <script type="template/content">
      <p>{text}!</p>
    </script>
  </x-template>

  <div>
    <x-slidebox>
      <x-slides>
        <x-slide></x-slide>
        <x-slide></x-slide>
        <x-slide></x-slide>
      </x-slides>
    </x-slidebox>
  </div>

</body>

<script type="text/javascript">

  var filters = [
    { name: 'All' , filter: '*' }
  ];

  var tasks = [[
    { text: 'clean office' },
    { text: 'vacum living room' },
    { text: 'do dishes' },
  ],
  [
    { text: 'go shopping' },
    { text: 'plan birthday party' },
    { text: 'go skydiving' },
  ],
  [ { text: 'sell snowboarding gear' } ]

  ];

  var slideboxContain = document.querySelector('x-slides');
  document.addEventListener('DOMComponentsLoaded', function(){

    tasks.forEach(function(col, idx){
      col.forEach(function(item){
        createTask(item,slideboxContain.children[idx]);
      })
    });

  });

  function createTask(item, row){
    //var slide = document.createElement('x-slide');
    var task = document.createElement('x-task');
    task.templateData = item;
    row.appendChild(task);

  }

</script>
</html>